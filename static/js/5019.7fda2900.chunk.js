"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[5019],{16035:function(e,t,n){n.d(t,{b8:function(){return v},ZQ:function(){return l},tR:function(){return b}});var r=n(17551),o=n(35898),i=n(57829),a=n(61113),c=n(46417);function l(e){var t=e.colors,n=e.limit,l=void 0===n?3:n,s=e.sx,d=t.slice(0,l),u=t.length-l;return(0,c.jsxs)(o.Z,{component:"span",direction:"row",alignItems:"center",justifyContent:"flex-end",sx:s,children:[d.map((function(e,t){return(0,c.jsx)(i.Z,{sx:{ml:-.75,width:16,height:16,borderRadius:"50%",border:function(e){return"solid 2px ".concat(e.palette.background.paper)},boxShadow:function(e){return"inset -1px 1px 2px ".concat((0,r.Fq)(e.palette.common.black,.24))},bgcolor:e}},e+t)})),t.length>l&&(0,c.jsx)(a.Z,{variant:"subtitle2",children:"+".concat(u)})]})}var s=n(1413),d=n(45987),u=n(44758),h=n(8730),f=["checked","whiteColor","sx"];function p(e){var t=e.checked,n=e.whiteColor,o=e.sx,a=(0,d.Z)(e,f),l=(0,c.jsx)(i.Z,{sx:{width:1,height:1,opacity:.48,borderRadius:"50%",position:"absolute",boxShadow:"4px 4px 8px 0 currentColor"}}),u=(0,c.jsx)(h.Z,{icon:"eva:checkmark-fill",sx:(0,s.Z)({opacity:0},t&&(0,s.Z)({opacity:1,color:"common.white"},n&&{color:"common.black"}))});return(0,c.jsxs)(i.Z,(0,s.Z)((0,s.Z)({sx:(0,s.Z)((0,s.Z)((0,s.Z)({width:20,height:20,display:"flex",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center",bgcolor:"currentColor",transition:function(e){return e.transitions.create("all",{duration:e.transitions.duration.shortest})}},n&&{border:function(e){return"solid 1px ".concat(e.palette.divider)},boxShadow:function(e){return"4px 4px 8px 0 ".concat((0,r.Fq)(e.palette.grey[500],.24))}}),t&&{transform:"scale(1.4)"}),o)},a),{},{children:[t&&l,u]}))}var x=["colors","selected","onChangeColor","sx"];function v(e){var t=e.colors,n=e.selected,r=e.onChangeColor,o=e.sx,a=(0,d.Z)(e,x);return(0,c.jsx)(i.Z,{sx:o,children:t.map((function(e){var t="#FFFFFF"===e||"white"===e;return(0,c.jsx)(u.Z,(0,s.Z)({size:"small",value:e,color:"default",checked:n.includes(e),onChange:function(){return r(e)},icon:(0,c.jsx)(p,{whiteColor:t}),checkedIcon:(0,c.jsx)(p,{checked:!0,whiteColor:t}),sx:{color:e,"&:hover":{opacity:.72},"& svg":{width:12,height:12}}},a),e)}))})}var g=n(47313),Z=n(54299),y=n(33827),m=["colors"],b=(0,g.forwardRef)((function(e,t){var n=e.colors,r=(0,d.Z)(e,m);return(0,c.jsx)(Z.Z,(0,s.Z)((0,s.Z)({row:!0,ref:t},r),{},{children:n.map((function(e){var t="#FFFFFF"===e||"white"===e;return(0,c.jsx)(y.Z,{value:e,color:"default",icon:(0,c.jsx)(p,{whiteColor:t}),checkedIcon:(0,c.jsx)(p,{checked:!0,whiteColor:t}),sx:{color:e,"&:hover":{opacity:.72},"& svg":{width:12,height:12}}},e)}))}))}))},38875:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(1413),o=n(45987),i=n(57829),a=n(35898),c=n(61113),l=n(3404),s=n(90891),d=n(2135),u=n(46417);function h(e){var t=e.link,n=e.activeLast,o=e.disabled,a=t.name,c=t.href,l=t.icon,h=(0,r.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},o&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),f=(0,u.jsxs)(u.Fragment,{children:[l&&(0,u.jsx)(i.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:l}),a]});return c?(0,u.jsx)(s.Z,{component:d.rU,to:c,sx:h,children:f}):(0,u.jsxs)(i.Z,{sx:h,children:[" ",f," "]})}var f=["links","action","heading","moreLink","activeLast","sx"];function p(e){var t=e.links,n=e.action,d=e.heading,p=e.moreLink,v=e.activeLast,g=e.sx,Z=(0,o.Z)(e,f),y=t[t.length-1].name;return(0,u.jsxs)(i.Z,{sx:(0,r.Z)({mb:5},g),children:[(0,u.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,u.jsxs)(i.Z,{sx:{flexGrow:1},children:[d&&(0,u.jsx)(c.Z,{variant:"h4",gutterBottom:!0,children:d}),!!t.length&&(0,u.jsx)(l.Z,(0,r.Z)((0,r.Z)({separator:(0,u.jsx)(x,{})},Z),{},{children:t.map((function(e){return(0,u.jsx)(h,{link:e,activeLast:v,disabled:e.name===y},e.name||"")}))}))]}),n&&(0,u.jsxs)(i.Z,{sx:{flexShrink:0},children:[" ",n," "]})]}),!!p&&(0,u.jsx)(i.Z,{sx:{mt:2},children:p.map((function(e){return(0,u.jsx)(s.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function x(){return(0,u.jsx)(i.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},95873:function(e,t,n){n.d(t,{Z:function(){return D},w:function(){return d}});var r=n(29439),o=n(47313),i=n(33532),a=n(8121),c=n(3051),l=n(98789),s=n(14322);function d(e,t){var n=(0,o.useState)(!1),d=(0,r.Z)(n,2),u=d[0],h=d[1],f=(0,o.useState)(t),p=(0,r.Z)(f,2),x=p[0],v=p[1],g=(0,o.useState)(e),Z=(0,r.Z)(g,2),y=Z[0],m=Z[1],b=y&&x&&(0,i.Z)(new Date(x),new Date(y))||!1,j=(new Date).getFullYear(),C=y?(0,a.Z)(y):null,w=x?(0,a.Z)(x):null,D=j===C&&j===w,k=!(!y||!x)&&(0,c.Z)(new Date(y),new Date(x)),M=!(!y||!x)&&(0,l.Z)(new Date(y),new Date(x)),S="".concat((0,s.Mu)(y)," - ").concat((0,s.Mu)(x));return{startDate:y,endDate:x,onChangeStartDate:function(e){m(e)},onChangeEndDate:function(e){b&&v(null),v(e)},open:u,onOpen:function(){return h(!0)},onClose:function(){return h(!1)},onReset:function(){m(null),v(null)},isSelected:!!y&&!!x,isError:b,label:S||"",shortLabel:(D?M?k?(0,s.Mu)(x,"dd MMM yy"):"".concat((0,s.Mu)(y,"dd")," - ").concat((0,s.Mu)(x,"dd MMM yy")):"".concat((0,s.Mu)(y,"dd MMM")," - ").concat((0,s.Mu)(x,"dd MMM yy")):"".concat((0,s.Mu)(y,"dd MMM yy")," - ").concat((0,s.Mu)(x,"dd MMM yy")))||"",setStartDate:m,setEndDate:v}}var u=n(1413),h=n(94469),f=n(33604),p=n(96467),x=n(35898),v=n(70501),g=n(24631),Z=n(15480),y=n(4117),m=n(24193),b=n(35426),j=n(63686),C=n(66281),w=n(46417);function D(e){var t=e.title,n=void 0===t?"Select date range":t,r=e.variant,o=void 0===r?"input":r,i=e.startDate,a=e.endDate,c=e.onChangeStartDate,l=e.onChangeEndDate,s=e.open,d=e.onClose,D=e.isError,k=(0,C.Z)("up","md"),M="calendar"===o;return(0,w.jsxs)(h.Z,{fullWidth:!0,maxWidth:!M&&"xs",open:s,onClose:d,PaperProps:{sx:(0,u.Z)({},M&&{maxWidth:720})},children:[(0,w.jsx)(f.Z,{sx:{pb:2},children:n}),(0,w.jsxs)(p.Z,{sx:(0,u.Z)({},M&&k&&{overflow:"unset"}),children:[(0,w.jsx)(x.Z,{spacing:M?3:2,direction:M&&k?"row":"column",justifyContent:"center",sx:{pt:1,"& .MuiCalendarPicker-root":(0,u.Z)({},!k&&{width:"auto"})},children:M?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(v.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,w.jsx)(b.h,{date:i,onChange:c})}),(0,w.jsx)(v.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,w.jsx)(b.h,{date:a,onChange:l})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(j.M,{label:"Start date",value:i,onChange:c,renderInput:function(e){return(0,w.jsx)(g.Z,(0,u.Z)({},e))}}),(0,w.jsx)(j.M,{label:"End date",value:a,onChange:l,renderInput:function(e){return(0,w.jsx)(g.Z,(0,u.Z)({},e))}})]})}),D&&(0,w.jsx)(Z.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,w.jsxs)(y.Z,{children:[(0,w.jsx)(m.Z,{variant:"outlined",color:"inherit",onClick:d,children:"Cancel"}),(0,w.jsx)(m.Z,{disabled:D,variant:"contained",onClick:d,children:"Apply"})]})]})}},65019:function(e,t,n){n.r(t),n.d(t,{default:function(){return pe}});var r=n(1413),o=n(93433),i=n(29439),a=n(61682),c=n(10306),l=n(34032),s=n(2e3),d=n(14298),u=n(96108),h=n(47313),f=n(65964),p=n(70178),x=n(24193),v=n(73428),g=n(94469),Z=n(33604),y=n(5239),m=n(88705),b=n(48175),j=n(14322),C=n(66281),w=n(8730),D=n(41034),k=n(38875),M=n(50152),S=n(95873),E=n(17592),F=n(17551),I=(0,E.ZP)("div")((function(e){var t=e.theme;return{width:"calc(100% + 2px)",marginLeft:-1,marginBottom:-1,"& .fc":{"--fc-border-color":(0,F.Fq)(t.palette.grey[500],.2),"--fc-now-indicator-color":t.palette.error.main,"--fc-today-bg-color":t.palette.action.selected,"--fc-page-bg-color":t.palette.background.default,"--fc-neutral-bg-color":t.palette.background.neutral,"--fc-list-event-hover-bg-color":t.palette.action.hover,"--fc-highlight-color":t.palette.action.hover},"& .fc .fc-license-message":{display:"none"},"& .fc a":{color:t.palette.text.primary},"& .fc .fc-col-header ":{boxShadow:"inset 0 -1px 0 ".concat(t.palette.divider),"& th":{borderColor:"transparent"},"& .fc-col-header-cell-cushion":(0,r.Z)((0,r.Z)({},t.typography.subtitle2),{},{padding:"13px 0"})},"& .fc .fc-list-empty":(0,r.Z)((0,r.Z)({},t.typography.h6),{},{backgroundColor:"transparent",color:t.palette.text.secondary}),"& .fc .fc-event":{borderColor:"transparent !important",backgroundColor:"transparent !important"},"& .fc .fc-event .fc-event-main":{padding:"2px 4px",borderRadius:4,backgroundColor:t.palette.common.white,transition:t.transitions.create("filter"),"&:hover":{filter:"brightness(0.92)"},"&:before,&:after":{top:0,left:0,width:"100%",height:"100%",content:"''",borderRadius:4,position:"absolute",boxSizing:"border-box"},"&:before":{zIndex:8,opacity:.32,border:"solid 1px currentColor"},"&:after":{zIndex:7,opacity:.24,backgroundColor:"currentColor"}},"& .fc .fc-event .fc-event-main-frame":{fontSize:13,lineHeight:"20px",filter:"brightness(0.24)"},"& .fc .fc-daygrid-event .fc-event-title":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"& .fc .fc-event .fc-event-time":{padding:0,overflow:"unset",fontWeight:t.typography.fontWeightBold},"& .fc .fc-popover":{border:0,overflow:"hidden",boxShadow:t.customShadows.z20,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper},"& .fc .fc-popover-header":(0,r.Z)((0,r.Z)({},t.typography.subtitle2),{},{padding:t.spacing(1),backgroundColor:(0,F.Fq)(t.palette.grey[500],.12),borderBottom:"solid 1px ".concat(t.palette.divider)}),"& .fc .fc-popover-close":{opacity:.48,transition:t.transitions.create("opacity"),"&:hover":{opacity:1}},"& .fc .fc-more-popover .fc-popover-body":{padding:t.spacing(1.5)},"& .fc .fc-popover-body":{"& .fc-daygrid-event.fc-event-start, & .fc-daygrid-event.fc-event-end":{margin:"2px 0"}},"& .fc .fc-day-other .fc-daygrid-day-top":{opacity:1,"& .fc-daygrid-day-number":{color:t.palette.text.disabled}},"& .fc .fc-daygrid-day-number":(0,r.Z)((0,r.Z)({},t.typography.body2),{},{padding:t.spacing(1,1,0)}),"& .fc .fc-daygrid-event":{marginTop:4},"& .fc .fc-daygrid-event.fc-event-start, & .fc .fc-daygrid-event.fc-event-end":{marginLeft:4,marginRight:4},"& .fc .fc-daygrid-more-link":(0,r.Z)((0,r.Z)({},t.typography.caption),{},{color:t.palette.text.secondary}),"& .fc .fc-timegrid-axis-cushion":(0,r.Z)((0,r.Z)({},t.typography.body2),{},{color:t.palette.text.secondary}),"& .fc .fc-timegrid-slot-label-cushion":(0,r.Z)({},t.typography.body2),"& .fc-direction-ltr .fc-list-day-text, .fc-direction-rtl .fc-list-day-side-text, .fc-direction-ltr .fc-list-day-side-text, .fc-direction-rtl .fc-list-day-text":(0,r.Z)({},t.typography.subtitle2),"& .fc .fc-list-event":(0,r.Z)((0,r.Z)({},t.typography.body2),{},{"& .fc-list-event-time":{color:t.palette.text.secondary}}),"& .fc .fc-list-table":{"& th, td":{borderColor:"transparent"}}}})),R=n(74165),W=n(15861),z=n(21933),O=n(19118),A=n.n(O),P=n(33532),T=n(75627),_=n(62563),B=n(35898),L=n(24631),q=n(4117),G=n(61689),V=n(47131),U=n(57829),Q=n(32703),J=n(74359),N=n(16035),H=n(50734),K=n(46417),X=function(e,t){var n={title:"",description:"",color:"#1890FF",allDay:!1,start:t?new Date(t.start).toISOString():(new Date).toISOString(),end:t?new Date(t.end).toISOString():(new Date).toISOString()};return e||t?A()({},n,e):n};function Y(e){var t=e.event,n=e.range,o=e.colorOptions,i=e.onCreateUpdateEvent,a=e.onDeleteEvent,c=e.onCancel,l=!!t,s=z.Ry().shape({title:z.Z_().max(255).required("Title is required"),description:z.Z_().max(5e3)}),d=(0,T.cI)({resolver:(0,_.X)(s),defaultValues:X(t,n)}),u=d.reset,h=d.watch,f=d.control,p=d.handleSubmit,v=d.formState.isSubmitting,g=h(),Z=function(){var e=(0,W.Z)((0,R.Z)().mark((function e(t){var n;return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n={title:t.title,description:t.description,color:t.color,allDay:t.allDay,start:t.start,end:t.end},i(n),c(),u()}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=!(g.allDay||!g.start||!g.end)&&(0,P.Z)(new Date(g.end),new Date(g.start));return(0,K.jsxs)(H.ZP,{methods:d,onSubmit:p(Z),children:[(0,K.jsxs)(B.Z,{spacing:3,sx:{px:3},children:[(0,K.jsx)(H.au,{name:"title",label:"Title"}),(0,K.jsx)(H.au,{name:"description",label:"Description",multiline:!0,rows:3}),(0,K.jsx)(H._e,{name:"allDay",label:"All day"}),(0,K.jsx)(T.Qr,{name:"start",control:f,render:function(e){var t=e.field;return(0,K.jsx)(J.W,(0,r.Z)((0,r.Z)({},t),{},{onChange:function(e){return t.onChange(e)},label:"Start date",inputFormat:"dd/MM/yyyy hh:mm a",renderInput:function(e){return(0,K.jsx)(L.Z,(0,r.Z)((0,r.Z)({},e),{},{fullWidth:!0}))}}))}}),(0,K.jsx)(T.Qr,{name:"end",control:f,render:function(e){var t=e.field;return(0,K.jsx)(J.W,(0,r.Z)((0,r.Z)({},t),{},{onChange:function(e){return t.onChange(e)},label:"End date",inputFormat:"dd/MM/yyyy hh:mm a",renderInput:function(e){return(0,K.jsx)(L.Z,(0,r.Z)((0,r.Z)({},e),{},{fullWidth:!0,error:!!y,helperText:y&&"End date must be later than start date"}))}}))}}),(0,K.jsx)(T.Qr,{name:"color",control:f,render:function(e){var t=e.field;return(0,K.jsx)(N.tR,{value:t.value,onChange:t.onChange,colors:o})}})]}),(0,K.jsxs)(q.Z,{children:[l&&(0,K.jsx)(G.Z,{title:"Delete Event",children:(0,K.jsx)(V.Z,{onClick:a,children:(0,K.jsx)(w.Z,{icon:"eva:trash-2-outline"})})}),(0,K.jsx)(U.Z,{sx:{flexGrow:1}}),(0,K.jsx)(x.Z,{variant:"outlined",color:"inherit",onClick:c,children:"Cancel"}),(0,K.jsx)(Q.Z,{type:"submit",variant:"contained",loading:v,children:l?"Update":"Add"})]})]})}var $=n(61113),ee=n(51405),te=n(22608),ne=[{value:"dayGridMonth",label:"Month",icon:"ic:round-view-module"},{value:"timeGridWeek",label:"Week",icon:"ic:round-view-week"},{value:"timeGridDay",label:"Day",icon:"ic:round-view-day"},{value:"listWeek",label:"Agenda",icon:"ic:round-view-agenda"}];function re(e){var t=e.date,n=e.view,o=e.onToday,a=e.onNextDate,c=e.onPrevDate,l=e.onChangeView,s=e.onOpenFilter,d=(0,C.Z)("up","sm"),u=(0,h.useState)(null),f=(0,i.Z)(u,2),p=f[0],v=f[1],g=function(){v(null)},Z=ne.filter((function(e){return e.value===n}))[0];return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(B.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:2.5,pr:2},children:[d&&(0,K.jsx)(x.Z,{color:"inherit",onClick:function(e){v(e.currentTarget)},startIcon:(0,K.jsx)(w.Z,{icon:Z.icon}),endIcon:(0,K.jsx)(w.Z,{icon:"eva:chevron-down-fill"}),sx:{py:.5,pl:1.5,bgcolor:"action.selected","& .MuiButton-endIcon":{ml:.5}},children:Z.label}),(0,K.jsxs)(B.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,K.jsx)(V.Z,{onClick:c,children:(0,K.jsx)(w.Z,{icon:"eva:arrow-ios-back-fill"})}),(0,K.jsx)($.Z,{variant:"h6",children:(0,j.Mu)(t)}),(0,K.jsx)(V.Z,{onClick:a,children:(0,K.jsx)(w.Z,{icon:"eva:arrow-ios-forward-fill"})})]}),(0,K.jsxs)(B.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,K.jsx)(x.Z,{size:"small",color:"error",variant:"contained",onClick:o,children:"Today"}),(0,K.jsx)(V.Z,{onClick:s,children:(0,K.jsx)(w.Z,{icon:"ic:round-filter-list"})})]})]}),(0,K.jsx)(te.Z,{open:p,onClose:g,arrow:"top-left",sx:{width:160},children:ne.map((function(e){return(0,K.jsxs)(ee.Z,{onClick:function(){g(),l(e.value)},sx:(0,r.Z)({},e.value===n&&{bgcolor:"action.selected"}),children:[(0,K.jsx)(w.Z,{icon:e.icon}),e.label]},e.value)}))})]})}var oe=n(68520),ie=n.n(oe),ae=n(63686),ce=n(46923),le=n(19536),se=n(89840),de=n(83213),ue=n(53261);function he(e){var t=e.events,n=e.picker,o=e.openFilter,i=e.colorOptions,a=e.onCloseFilter,c=e.onResetFilter,l=e.onSelectEvent,s=e.filterEventColor,d=e.onFilterEventColor,u=n.startDate&&n.endDate||!!s.length;return(0,K.jsxs)(ce.ZP,{anchor:"right",open:o,onClose:a,BackdropProps:{invisible:!0},PaperProps:{sx:{width:320}},children:[(0,K.jsxs)(B.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{pl:2,pr:1,py:2},children:[(0,K.jsx)($.Z,{variant:"subtitle1",children:"Filters"}),(0,K.jsx)(G.Z,{title:"Reset",children:(0,K.jsxs)(U.Z,{sx:{position:"relative"},children:[(0,K.jsx)(V.Z,{onClick:c,children:(0,K.jsx)(w.Z,{icon:"ic:round-refresh"})}),u&&(0,K.jsx)(U.Z,{sx:{top:6,right:4,width:8,height:8,borderRadius:"50%",position:"absolute",bgcolor:"error.main"}})]})})]}),(0,K.jsx)(le.Z,{}),(0,K.jsx)($.Z,{variant:"caption",sx:{color:"text.secondary",fontWeight:"fontWeightMedium",p:function(e){return e.spacing(2,2,1,2)}},children:"Colors"}),(0,K.jsx)(N.b8,{colors:i,selected:s,onChangeColor:d,sx:{mx:2}}),(0,K.jsx)($.Z,{variant:"caption",sx:{p:2,color:"text.secondary",fontWeight:"fontWeightMedium"},children:"Range"}),(0,K.jsxs)(B.Z,{spacing:2,sx:{px:2},children:[(0,K.jsx)(ae.M,{label:"Start date",value:n.startDate,onChange:n.onChangeStartDate,renderInput:function(e){return(0,K.jsx)(L.Z,(0,r.Z)({size:"small"},e))}}),(0,K.jsx)(ae.M,{label:"End date",value:n.endDate,onChange:n.onChangeEndDate,renderInput:function(e){return(0,K.jsx)(L.Z,(0,r.Z)((0,r.Z)({size:"small"},e),{},{error:n.isError,helperText:n.isError&&"End date must be later than start date"}))}})]}),(0,K.jsxs)($.Z,{variant:"caption",sx:{p:2,color:"text.secondary",fontWeight:"fontWeightMedium"},children:["Events (",t.length,")"]}),(0,K.jsx)(ue.Z,{sx:{height:1},children:ie()(t,["end"],["desc"]).map((function(e){return(0,K.jsxs)(se.Z,{onClick:function(){return l(e.id)},sx:{py:1.5,borderBottom:function(e){return"dashed 1px ".concat(e.palette.divider)}},children:[(0,K.jsx)(U.Z,{sx:{top:16,left:0,width:0,height:0,position:"absolute",borderRight:"10px solid transparent",borderTop:"10px solid ".concat(e.color)}}),(0,K.jsx)(de.Z,{disableTypography:!0,primary:(0,K.jsx)($.Z,{variant:"subtitle2",sx:{fontSize:13,mt:.5},children:e.title}),secondary:(0,K.jsx)($.Z,{variant:"caption",component:"div",sx:{fontSize:11,color:"text.disabled"},children:e.allDay?(0,j.zM)(e.start,"dd MMM yy"):(0,K.jsx)(K.Fragment,{children:"".concat((0,j.zM)(e.start,"dd MMM yy p")," - ").concat((0,j.zM)(e.end,"dd MMM yy p"))})}),sx:{display:"flex",flexDirection:"column-reverse"}})]},e.id)}))})]})}var fe=["#00AB55","#1890FF","#54D62C","#FFC107","#FF4842","#04297A","#7A0C2E"];function pe(){var e=(0,D.Ds)().enqueueSnackbar,t=(0,M.K$)().themeStretch,n=(0,y.I0)(),r=(0,C.Z)("up","sm"),E=(0,h.useRef)(null),F=xe(),R=(0,h.useState)(!1),W=(0,i.Z)(R,2),z=W[0],O=W[1],A=(0,h.useState)(null),P=(0,i.Z)(A,2),T=P[0],_=P[1],B=(0,h.useState)(null),L=(0,i.Z)(B,2),q=L[0],G=L[1],V=(0,y.v9)((function(){return T?F.find((function(e){return e.id===T})):null})),U=(0,S.w)(null,null),Q=(0,h.useState)(new Date),J=(0,i.Z)(Q,2),N=J[0],H=J[1],X=(0,h.useState)(!1),$=(0,i.Z)(X,2),ee=$[0],te=$[1],ne=(0,h.useState)([]),oe=(0,i.Z)(ne,2),ie=oe[0],ae=oe[1],ce=(0,h.useState)(r?"dayGridMonth":"listWeek"),le=(0,i.Z)(ce,2),se=le[0],de=le[1];(0,h.useEffect)((function(){var e=E.current;if(e){var t=e.getApi(),n=r?"dayGridMonth":"listWeek";t.changeView(n),de(n)}}),[r]);var ue=function(){O(!0)},pe=function(){O(!1),G(null),_(null)},ve=function(e){var t=e.inputData,n=e.filterEventColor,r=e.filterStartDate,o=e.filterEndDate,i=e.isError,a=t.map((function(e,t){return[e,t]}));t=a.map((function(e){return e[0]})),n.length&&(t=t.filter((function(e){return n.includes(e.color)})));r&&o&&!i&&(t=t.filter((function(e){return(0,j.IO)(e.start)>=(0,j.IO)(r)&&(0,j.IO)(e.end)<=(0,j.IO)(o)})));return t}({inputData:F,filterEventColor:ie,filterStartDate:U.startDate,filterEndDate:U.endDate,isError:!!U.isError});return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(f.ql,{children:(0,K.jsx)("title",{children:" Calendar | Business Essentials "})}),(0,K.jsxs)(p.Z,{maxWidth:!t&&"xl",children:[(0,K.jsx)(k.Z,{heading:"Calendar",links:[{name:"Dashboard",href:b.vB.root},{name:"Calendar"}],moreLink:["https://fullcalendar.io/docs/react"],action:(0,K.jsx)(x.Z,{variant:"contained",startIcon:(0,K.jsx)(w.Z,{icon:"eva:plus-fill"}),onClick:ue,children:"New Event"})}),(0,K.jsx)(v.Z,{children:(0,K.jsxs)(I,{children:[(0,K.jsx)(re,{date:N,view:se,onNextDate:function(){var e=E.current;if(e){var t=e.getApi();t.next(),H(t.getDate())}},onPrevDate:function(){var e=E.current;if(e){var t=e.getApi();t.prev(),H(t.getDate())}},onToday:function(){var e=E.current;if(e){var t=e.getApi();t.today(),H(t.getDate())}},onChangeView:function(e){var t=E.current;t&&(t.getApi().changeView(e),de(e))},onOpenFilter:function(){return te(!0)}}),(0,K.jsx)(a.Z,{weekends:!0,editable:!0,droppable:!0,selectable:!0,rerenderDelay:10,allDayMaintainDuration:!0,eventResizableFromStart:!0,ref:E,initialDate:N,initialView:se,dayMaxEventRows:3,eventDisplay:"block",events:ve,headerToolbar:!1,initialEvents:F,select:function(e){var t=E.current;t&&t.getApi().unselect();ue(),G({start:e.start,end:e.end})},eventDrop:function(e){var t=e.event;try{n((0,m.eJ)(t.id,{allDay:t.allDay,start:t.start,end:t.end}))}catch(r){console.error(r)}},eventClick:function(e){ue(),_(e.event.id)},eventResize:function(e){var t=e.event;try{n((0,m.eJ)(t.id,{allDay:t.allDay,start:t.start,end:t.end}))}catch(r){console.error(r)}},height:r?720:"auto",plugins:[l.Z,s.Z,u.Z,d.Z,c.ZP]})]})})]}),(0,K.jsxs)(g.Z,{fullWidth:!0,maxWidth:"xs",open:z,onClose:pe,children:[(0,K.jsx)(Z.Z,{children:V?"Edit Event":"Add Event"}),(0,K.jsx)(Y,{event:V,range:q,onCancel:pe,onCreateUpdateEvent:function(t){T?(n((0,m.eJ)(T,t)),e("Update success!")):(n((0,m.yM)(t)),e("Create success!"))},onDeleteEvent:function(){try{T&&(pe(),n((0,m.Bt)(T)),e("Delete success!"))}catch(t){console.error(t)}},colorOptions:fe})]}),(0,K.jsx)(he,{events:F,picker:U,openFilter:ee,colorOptions:fe,onResetFilter:function(){var e=U.setStartDate,t=U.setEndDate;e&&t&&(e(null),t(null)),ae([])},filterEventColor:ie,onCloseFilter:function(){return te(!1)},onFilterEventColor:function(e){var t=ie.includes(e)?ie.filter((function(t){return t!==e})):[].concat((0,o.Z)(ie),[e]);ae(t)},onSelectEvent:function(e){e&&(ue(),_(e))}})]})}var xe=function(){var e=(0,y.I0)(),t=(0,y.v9)((function(e){return e.calendar})).events,n=(0,h.useCallback)((function(){e((0,m.vw)())}),[e]);return(0,h.useEffect)((function(){n()}),[n]),t.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{textColor:e.color})}))}}}]);